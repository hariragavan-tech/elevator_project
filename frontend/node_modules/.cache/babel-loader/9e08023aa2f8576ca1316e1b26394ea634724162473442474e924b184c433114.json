{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hari\\\\OneDrive\\\\Desktop\\\\elevator_project\\\\frontend\\\\src\\\\ChatMessage.js\";\nimport React from \"react\";\n\n/**\r\n * Renders a single chat message bubble, formatted for both conversational AI replies\r\n * and structured knowledge base search results.\r\n * @param {{ message: { role: string, text?: string, results?: Array<object> } }} props\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatMessage({\n  message\n}) {\n  // --- USER MESSAGE ---\n  if (message.role === \"user\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"msg user\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bubble\",\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this);\n  }\n  const isAssistant = message.role === \"ai\" || message.role === \"assistant\";\n  if (isAssistant) {\n    const results = message.results;\n\n    // ✅ If AI generated a conversational response (from Ollama)\n    if (message.text && message.text.trim() !== \"\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"msg ai\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bubble\",\n          style: {\n            whiteSpace: \"pre-line\",\n            lineHeight: \"1.6\",\n            color: \"var(--text-color)\"\n          },\n          children: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this);\n    }\n\n    // --- STRUCTURED SEARCH RESULT DISPLAY (Fallback) ---\n    if (results && results.length > 0 && results[0].problem !== \"Error\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"msg ai\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bubble knowledge-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: \"bold\",\n              margin: \"0 0 10px 0\",\n              color: \"var(--accent-color)\"\n            },\n            children: [\"Found \", results.length, \" Relevant Expert Log(s):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results-list\",\n            style: {\n              marginTop: \"10px\",\n              padding: \"0 5px\"\n            },\n            children: results.map((result, idx) => {\n              const distance = parseFloat(result.distance);\n              const distanceText = !isNaN(distance) ? distance.toFixed(4) : \"N/A\";\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-card\",\n                style: {\n                  border: \"1px solid #ddd\",\n                  padding: \"10px\",\n                  marginBottom: \"10px\",\n                  borderRadius: \"8px\",\n                  backgroundColor: \"#f9f9f9\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0 0 5px 0\",\n                    fontSize: \"0.8em\",\n                    color: \"#666\"\n                  },\n                  children: [\"Match \", idx + 1, \" (Distance: \", distanceText, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0 0 5px 0\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    style: {\n                      color: \"var(--text-color)\"\n                    },\n                    children: \"Problem:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 23\n                  }, this), \" \", result.problem]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0 0 5px 0\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    style: {\n                      color: \"var(--text-color)\"\n                    },\n                    children: \"Cause:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this), \" \", result.cause]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    style: {\n                      color: \"var(--accent-color)\"\n                    },\n                    children: \"Steps:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this), \" \", result.steps]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n    }\n\n    // --- SIMPLE STATUS / SYSTEM MESSAGES ---\n    const text = message.text || \"No relevant knowledge found.\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"msg ai\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bubble\",\n        style: {\n          fontStyle: \"italic\",\n          color: \"var(--muted)\"\n        },\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n_c = ChatMessage;\nvar _c;\n$RefreshReg$(_c, \"ChatMessage\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","ChatMessage","message","role","className","children","text","fileName","_jsxFileName","lineNumber","columnNumber","isAssistant","results","trim","style","whiteSpace","lineHeight","color","length","problem","fontWeight","margin","marginTop","padding","map","result","idx","distance","parseFloat","distanceText","isNaN","toFixed","border","marginBottom","borderRadius","backgroundColor","fontSize","cause","steps","fontStyle","_c","$RefreshReg$"],"sources":["C:/Users/Hari/OneDrive/Desktop/elevator_project/frontend/src/ChatMessage.js"],"sourcesContent":["import React from \"react\";\r\n\r\n/**\r\n * Renders a single chat message bubble, formatted for both conversational AI replies\r\n * and structured knowledge base search results.\r\n * @param {{ message: { role: string, text?: string, results?: Array<object> } }} props\r\n */\r\nexport default function ChatMessage({ message }) {\r\n  // --- USER MESSAGE ---\r\n  if (message.role === \"user\") {\r\n    return (\r\n      <div className=\"msg user\">\r\n        <div className=\"bubble\">{message.text}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isAssistant = message.role === \"ai\" || message.role === \"assistant\";\r\n\r\n  if (isAssistant) {\r\n    const results = message.results;\r\n\r\n    // ✅ If AI generated a conversational response (from Ollama)\r\n    if (message.text && message.text.trim() !== \"\") {\r\n      return (\r\n        <div className=\"msg ai\">\r\n          <div\r\n            className=\"bubble\"\r\n            style={{\r\n              whiteSpace: \"pre-line\",\r\n              lineHeight: \"1.6\",\r\n              color: \"var(--text-color)\",\r\n            }}\r\n          >\r\n            {message.text}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // --- STRUCTURED SEARCH RESULT DISPLAY (Fallback) ---\r\n    if (results && results.length > 0 && results[0].problem !== \"Error\") {\r\n      return (\r\n        <div className=\"msg ai\">\r\n          <div className=\"bubble knowledge-results\">\r\n            <p\r\n              style={{\r\n                fontWeight: \"bold\",\r\n                margin: \"0 0 10px 0\",\r\n                color: \"var(--accent-color)\",\r\n              }}\r\n            >\r\n              Found {results.length} Relevant Expert Log(s):\r\n            </p>\r\n            <div\r\n              className=\"results-list\"\r\n              style={{ marginTop: \"10px\", padding: \"0 5px\" }}\r\n            >\r\n              {results.map((result, idx) => {\r\n                const distance = parseFloat(result.distance);\r\n                const distanceText = !isNaN(distance)\r\n                  ? distance.toFixed(4)\r\n                  : \"N/A\";\r\n\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"result-card\"\r\n                    style={{\r\n                      border: \"1px solid #ddd\",\r\n                      padding: \"10px\",\r\n                      marginBottom: \"10px\",\r\n                      borderRadius: \"8px\",\r\n                      backgroundColor: \"#f9f9f9\",\r\n                    }}\r\n                  >\r\n                    <p\r\n                      style={{\r\n                        margin: \"0 0 5px 0\",\r\n                        fontSize: \"0.8em\",\r\n                        color: \"#666\",\r\n                      }}\r\n                    >\r\n                      Match {idx + 1} (Distance: {distanceText})\r\n                    </p>\r\n                    <p style={{ margin: \"0 0 5px 0\" }}>\r\n                      <strong style={{ color: \"var(--text-color)\" }}>\r\n                        Problem:\r\n                      </strong>{\" \"}\r\n                      {result.problem}\r\n                    </p>\r\n                    <p style={{ margin: \"0 0 5px 0\" }}>\r\n                      <strong style={{ color: \"var(--text-color)\" }}>\r\n                        Cause:\r\n                      </strong>{\" \"}\r\n                      {result.cause}\r\n                    </p>\r\n                    <p style={{ margin: \"0\" }}>\r\n                      <strong style={{ color: \"var(--accent-color)\" }}>\r\n                        Steps:\r\n                      </strong>{\" \"}\r\n                      {result.steps}\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // --- SIMPLE STATUS / SYSTEM MESSAGES ---\r\n    const text = message.text || \"No relevant knowledge found.\";\r\n    return (\r\n      <div className=\"msg ai\">\r\n        <div\r\n          className=\"bubble\"\r\n          style={{ fontStyle: \"italic\", color: \"var(--muted)\" }}\r\n        >\r\n          {text}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}